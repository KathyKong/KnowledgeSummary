# 性能优化1/5 -- 绘制优化

* Android系统显示原理
* 布局优化 		[link](./Android/APP性能优化/布局优化.md)
* 避免过度绘制
* 启动优化
* 合理刷新机制
* 提升动画性能


##### Android系统显示原理
简单来说，就是应用层通过Measure、Layout、Draw，产生Surface缓存数据。然后通过进程间通信(匿名共享内存 SharedClient)，把缓存数据交给系统层，利用SurfaceFlinger把数据渲染到屏幕。

Android的图形显示系统采用Client/Server架构。其中每个应用程序都是Client，系统是Server。

每个应用和SurfaceFlinger之间，都会创建一个SharedClient，即一个SharedClient对应一个应用程序。而每个SharedClient中，最多可创建31个SharedBufferStack，即SharedClient包含SharedBufferStack的集合。其中，每个Surface都对应一个SharedBufferStack，也就是一个Window。这就意味着，一个应用程序同时做多包含31个窗口。

![Android显示框架](/Users/haining/Documents/Document/my_blog/KnowledgeSummary/img/Android显示框架.jpg)